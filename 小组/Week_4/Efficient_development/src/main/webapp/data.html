<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>展示数据</title>

    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js" type="text/javascript" charset="UTF-8"></script>
    <script type="text/javascript">
        $(function () {
            $("#fund").click(function ()
            {
                var tbody = document.querySelector('tbody');
                tbody.innerHTML = '';
                $.ajax({
                    url: "EmpServlet",
                    type: "GET",
                    async: true,
                    data_type: 'json',
                    data:{"method":"selectAll"},
                    success: function (res) {
                        var str = "";
                        var data = JSON.parse(res);
                        for (i in data) {
                            str += "<tr align=\"center\">" +
                                "<td>" + data[i].empno + "</td>" +
                                "<td>" + data[i].ename + "</td>" +
                                "<td>" + data[i].job + "</td>" +
                                "<td>" + data[i].mgr + "</td>" +
                                "<td>" + data[i].hiredate + "</td>" +
                                "<td>" + data[i].sal + "</td>" +
                                "<td>" + data[i].comm + "</td>" +
                                "<td>" + data[i].deptno + "</td>" +
                                "</tr>";

                        }
                        $("#tbody-result").html(str);


                    },
                    error: function (err) {
                        alert("未查询到数据");
                    }
                });
            })


            $.ajax({
                url: "EmpServlet",
                type: "GET",
                async: true,
                data_type: 'json',
                data:{"method":"selectAll"},
                success: function (res) {
                    var str = "";
                    var data = JSON.parse(res);
                    for (i in data) {
                        str += "<tr align=\"center\">" +
                            "<td>" + data[i].empno + "</td>" +
                            "<td>" + data[i].ename + "</td>" +
                            "<td>" + data[i].job + "</td>" +
                            "<td>" + data[i].mgr + "</td>" +
                            "<td>" + data[i].hiredate + "</td>" +
                            "<td>" + data[i].sal + "</td>" +
                            "<td>" + data[i].comm + "</td>" +
                            "<td>" + data[i].deptno + "</td>" +
                            "</tr>";

                    }
                    $("#tbody-result").html(str);


                },
                error: function (err) {
                    alert("未查询到数据");
                }
            });
            $("#insert").click(function ()
            {

                var url="insertData.html";

                location.assign(url);
            })

            $("#delete").click(function ()
            {

                var url="deleteData.html";

                location.assign(url);
            })
        });

    </script>
</head>
<body>
<center><h1>员工数据</h1></center>
<center><input type="button" id="fund" value="刷新数据"></center>
<table align="center" border='1px' width="60%" height="150px">
    <thead>
    <center><input type="button" id="insert" value="插入数据"></center>
    <center><input type="button" id="delete" value="删除数据"></center>
    <tr align="center">
        <th>员工编号</th>
        <th>员工姓名</th>
        <th>工作</th>
        <th>上级</th>
        <th>入职日期</th>
        <th>工资</th>
        <th>奖金</th>
        <th>部门编号</th>
    </tr>
    </thead>
    <tbody id="tbody-result">

    </tbody>

</table>
</body>
</html>